<ion-header no-border>
  <ion-navbar>
    <ion-title>
      Diet
      <!-- <span class="settingsCog"><ion-icon name="settings" (click)="launchSettings()"></ion-icon></span> -->
      <span class="refresh">
        <ion-icon name="refresh" (click)="this.refresh()"></ion-icon>
      </span>
    </ion-title>
  </ion-navbar>
</ion-header>

<ion-content>
  <ion-grid class="food-background">
    <ion-row>
      <ion-col col-lg-6 class="area1">
        <round-progress
          id="round-progress"
          [current]="userStats.getCurrCalories()"
          [max]="userStats.getgoalCalories()"
          [color]="'rgb(255,255,255)'"
          [background]="'rgba(159, 147, 237, 0.5)'"
          [radius]="100"
          [stroke]="10"
          [semicircle]="false"
          [responsive]="false"
          [duration]="1500"
          [animation]="'easeInOutQuart'"
          [animationDelay]="0"
        >
        </round-progress>
        <div class="progress-text">
          <h2>
            {{(userStats.getCurrCalories() | number:'1.0-0') || 0}}
            <hr />
            {{userStats.getgoalCalories() || 2000}}
          </h2>
          <h5>Calories</h5>
        </div>
        <div class="breakdown">
          <ion-row class="macro-container">
            <ion-col col-4>
              <h3>Protein</h3>
              <h3>
                {{(userStats.calcMacros('Protein', 4) | number:'1.0-0') || 0}}%
              </h3>
            </ion-col>
            <ion-col col-4>
              <h3>Carbs</h3>
              <h3>
                {{(userStats.calcMacros('Carbohydrate, by difference', 4) |
                number:'1.0-0') || 0}}%
              </h3>
            </ion-col>
            <ion-col col-4>
              <h3>Fats</h3>
              <h3>
                {{(userStats.calcMacros('Total lipid (fat)', 9) |
                number:'1.0-0') || 0}}%
              </h3>
            </ion-col>
          </ion-row>
          <ion-row class="micro-containter">
            <ion-col col-4>
              <h3>Sodium</h3>
              <h3>
                {{(userStats.getMicro('Sodium, Na') | number:'1.0-0') || 0}}mg
              </h3>
            </ion-col>
            <ion-col col-4>
              <h3>Cholesterol</h3>
              <h3>
                {{(userStats.getMicro('Cholesterol') | number:'1.0-0') || 0}}mg
              </h3>
            </ion-col>
          </ion-row>
        </div>

        <button
          ion-button
          block
          class="addFoodButton"
          (click)="launchAddFoodPage()"
        >
          Add Food
        </button>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>
